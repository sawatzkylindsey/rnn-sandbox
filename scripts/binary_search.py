
import sys


def binary_search(target, activation_points, find_lower):
    lower = 0
    upper = len(activation_points) - 1
    found = upper if activation_points[upper] == target else None

    while found is None:
        print("l %d, u %d" % (lower, upper))
        if activation_points[lower] > target:
            found = lower
            print("oob lower")
        elif activation_points[upper] < target:
            found = upper
            print("oob upper")
        else:
            current = int((upper + lower) / 2.0)
            print("c %d" % current)
            observation = activation_points[current]

            if observation == target:
                found = current
                print("exact")
            elif observation < target:
                if lower == current:
                    if activation_points[upper] <= target:
                        found = upper
                    found = lower if find_lower else upper
                else:
                    lower = current
            else:
                upper = current

    print("l %d, u %d" % (lower, upper))
    print("found is None: %s" % (found is None))
    print("upper > lower + 1: %s" % (upper > lower + 1))

    direction = -1 if find_lower else 1

    while found + direction < len(activation_points) and activation_points[found + direction] == target:
        found += direction

    return found
l = [-0.17825855, -0.17825855, -0.17825855, -0.17825855, -0.17825855, -0.17825855, -0.17006452, -0.17006452, -0.17006452, -0.1635072, -0.15957937, -0.15831226, -0.15633477, -0.1535394, -0.1535394, -0.1535394, -0.1535394, -0.1535394, -0.1535394, -0.1535394, -0.15181136, -0.14575864, -0.14575864, -0.13819513, -0.13680477, -0.13680477, -0.13680477, -0.13680477, -0.13599524, -0.13599524, -0.12969117, -0.12680963, -0.12657814, -0.12345599, -0.12345599, -0.1225448, -0.1225448, -0.1225448, -0.1225448, -0.1225448, -0.1225448, -0.12019903, -0.11810162, -0.111228034, -0.111228034, -0.10902497, -0.10887251, -0.10887251, -0.105343714, -0.10499048, -0.10029449, -0.094869524, -0.08995839, -0.08220809, -0.079450056, -0.0729318, -0.0729318, -0.07270376, -0.07270376, -0.070146225, -0.06909965, -0.06880821, -0.06876096, -0.06876096, -0.06717776, -0.06652608, -0.0630321, -0.05030345, -0.045596816, -0.045596816, -0.040449765, -0.039390735, -0.035152297, -0.028530145, -0.028530145, -0.028530145, -0.028530145, -0.02348576, -0.02348576, -0.02348576, -0.023363898, -0.023363898, -0.02216499, -0.02216499, -0.02216499, -0.02216499, -0.012051765, -0.007136824, 0.0012184028, 0.0022159845, 0.011328926, 0.012824413, 0.018656224, 0.019947222, 0.019947222, 0.021695878, 0.021695878, 0.021695878, 0.021695878, 0.021695878, 0.021695878, 0.021695878, 0.021695878, 0.021695878, 0.021695878, 0.022492828, 0.02391661, 0.024073841, 0.024073841, 0.024183394, 0.024183394, 0.024183394, 0.024183394, 0.028374992, 0.03563854, 0.03563854, 0.041635614, 0.042444155, 0.042847026, 0.04363949, 0.04363949, 0.04363949, 0.04363949, 0.04363949, 0.05188773, 0.05188773, 0.052016117, 0.05222969, 0.07147677, 0.072386295, 0.072386295, 0.072386295, 0.072386295, 0.079986215, 0.080130786, 0.080130786, 0.080757745, 0.084279455, 0.085036345, 0.087004565, 0.08753105, 0.091625296, 0.0916439, 0.09453293, 0.09704096, 0.09913855, 0.10210344, 0.10210344, 0.1058532, 0.10705769, 0.10818544, 0.117344804, 0.12342464, 0.12606627, 0.12606627, 0.12606627, 0.12606627, 0.1315776, 0.1315776, 0.13162446, 0.13162446, 0.13162446, 0.13503084, 0.13583113, 0.1383255, 0.1390818, 0.1390818, 0.14506392, 0.15497279, 0.15535392, 0.1557505, 0.1651654, 0.17241299, 0.17431127, 0.18044649, 0.18044649]
#l = [1,3,4,5,5,5,6]
#print(l)
print(binary_search(float(sys.argv[1]), l, True))
print(binary_search(float(sys.argv[1]), l, False))
print(l[binary_search(float(sys.argv[1]), l, True)])
print(l[binary_search(float(sys.argv[1]), l, False)])
